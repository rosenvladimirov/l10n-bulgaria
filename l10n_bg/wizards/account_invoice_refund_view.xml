<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_account_invoice_refund" model="ir.ui.view">
            <field name="name">account.invoice.refund.form</field>
            <field name="model">account.invoice.refund</field>
            <field name="inherit_id" ref="account.view_account_invoice_refund"/>
            <field name="arch" type="xml">
                <xpath expr="//form" position="attributes">
                    <attribute name="string">Credit/Debit Note</attribute>
                </xpath>
                <xpath expr="//form/group/group[2]" position="inside">
                    <div attrs="{'invisible':['|',('refund_only','=',True),('filter_refund','!=','amount')]}"
                         class="oe_grey" colspan="4">
                        You will be able to edit and validate this
                        debit note directly or keep it draft, but with self line amount for corrections and
                        waiting for the document to be issued by
                        your supplier/customer.
                    </div>
                    <div attrs="{'invisible':['|',('refund_only','=',True),('filter_refund','!=','debitnote')]}"
                         class="oe_grey" colspan="4">
                        You will be able to edit and validate this
                        debit note directly or keep it draft,
                        waiting for the document to be issued by
                        your supplier/customer.
                    </div>
                </xpath>
                <xpath expr="//button[@name='invoice_refund']" position="replace">
                    <button string='Add Credit/Debit Note' name="invoice_refund" type="object" class="btn-primary"/>
                </xpath>
                <xpath expr="//field[@name='description']" position="attributes">
                    <attribute name="attrs">{'invisible': [('filter_refund', '=', 'amount')]}</attribute>
                </xpath>
                <xpath expr="//field[@name='description']" position="before">
                    <field name="default_scouting_product_id" attrs="{'invisible': [('filter_refund', '!=', 'amount')]}"/>
                    <field name="amount" attrs="{'invisible': [('filter_refund', '!=', 'amount')]}"/>
                    <field name="account_separate" attrs="{'invisible': [('filter_refund', '!=', 'amount')]}"/>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
